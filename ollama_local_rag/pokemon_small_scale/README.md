# Instructions

### RAG Setup
Running `create_embeddings.py` will create the embeddings for the data in `knowledge_base/` and store them in `chroma_db/`. Run `create_embeddings.py --rerun` if you modify your knowledge base to regen the embeddings. Then you can run `main.py` to run an interactive prompt with ollama and you can run with `-d [QUESTION]` if you want a straight answer.

## Poisoning
Inside `malicious/`, insert the text files that you want to poison with (I've provided some samples, `new.txt` is my new style of generating malicious texts, while `old.txt` is an example generated by using the original PoisonedRAG paper's style)

### Testing Success Rate
Run `create_embeddings.py --rerun` to recreate embeddings with your new malicious text, then run `attack_evaluation.py`. The `.env` file has parameters for the attack script. It will create some statistics on poisoning success rate.

### Some Sample Results
I poisoned Lugia differently than Squirtle (you can view the texts in the malicious knowledge base) and Lugia has a much much higher attack success rate (ASR) if you run the testing script setup for it.

### Note
You don't need to touch `format_knowledge_base.py`, I just included it cuz that's what I used to create files in `knowledge_base/`. Also don't need to touch `pokemon.csv` but that's again my original data document that you can look at if you're interested